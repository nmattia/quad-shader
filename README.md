
<p align="center">
  <img width=300 height=300 src="https://github.com/user-attachments/assets/52f41567-effd-49a3-90b1-544e19d3e3bc" />
</p>

# Quad Shader

This is a JavaScript library to build shader-based, 2D animations. You provide
a GLSL shader to the `animate()` function which renders it to a quad.

Whether you're just getting started with WebGL or looking for a quick way to
bootstrap your shader projects, this library should serve as a solid
foundation.

For a longer introduction, see the [official webpage](https://nmattia.github.io/quad-shader/).

## Getting started

First create a new project. The recommended way is to use [Vite](https://vitejs.dev/)

```bash
npm create vite@latest my-quad-shader-app
```

Then install the `quad-shader` library:

```bash
npm install quad-shader
```

Then add an `<canvas>` element to the `index.html` generated by Vite. Edit the CSS to set a fixed size for the canvas:

```css
canvas {
    width: 100%
}
```

Finally add a `<script type="module">...</script>` element with the following content:

```ts
import { animate, getComputedStylePropRGBA } from "quad-shader";
const qs = animate(document.querySelector("canvas"), `
  precision lowp float;
  varying vec2 vPosition;
  uniform vec4 uColor;
  uniform float uTime;
  void main() {
      float theta = atan(vPosition.y, vPosition.x);
      float rho = length(vPosition.xy);
      float v = mod(rho - uTime/10., .2);
      float alpha *= smoothstep(.1, .2, v);
      alpha *= (1. - smoothstep(0., 1., rho));
      gl_FragColor = alpha * uColor;
  }
`);
qs.uniform4f("uColor", () => getComputedStylePropRGBA(qs.canvas, "color"));
```

To start the development server with hot-reloading:

```bash
npm run dev
```

Your project should now be running at [http://localhost:5173](http://localhost:5173).
Open the URL in your browser to see the template in action. Any changes you
make to the shaders or TypeScript files will automatically reload the page.

The `<canvas>` is now rendering an animation. For more information, see
[https://nmattia.github.io/quad-shader/](https://nmattia.github.io/quad-shader/).

### License

This project is licensed under the [MIT License](LICENSE). You are free to use,
modify, and distribute this template in your own projects.

If you have any questions or need further assistance, feel free to reach out
via the issues tab on GitHub.
